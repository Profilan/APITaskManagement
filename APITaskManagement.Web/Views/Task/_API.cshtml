@model APITaskManagement.Web.Models.TaskViewModel

<div class="form-group">
    <div class="row">
        <label class="control-label col-md-2">Url</label>
        <div class="col-md-10">
            @Html.DropDownListFor(x => Model.UrlId, new SelectList(Model.Urls, "Id", "Name"), htmlAttributes: new { @class = "form-control" })

            @Html.ValidationMessageFor(model => model.UrlId, "", new { @class = "text-danger" })
        </div>
    </div>
</div>

<div class="form-group">
    <div class="row">
        @Html.LabelFor(model => model.HttpMethod, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.EnumDropDownListFor(model => model.HttpMethod, "Select method", new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.HttpMethod, "", new { @class = "text-danger" })
        </div>
    </div>
</div>
<hr />

<div class="form-group">
    <label>Headers</label>
    <div id="HeaderRepeater" class="repeater">
        <div data-repeater-list="Headers">
            
            @if (Model.Headers.Count() > 0)
            {
                foreach (var header in Model.Headers)
                {
                    <div data-repeater-item style="margin-bottom: 15px;">
                        <div class="row">
                            <div class="col-md-5">
                                <input type="text" data-name class="form-control" name="Name" value="@header.Name" placeholder="Name" />
                            </div> 
                            <div class="col-md-5">
                                <input type="text" data-value class="form-control" name="Value" value="@header.Value" placeholder="Value" />
                            </div>
                            <div class="col-md-2">
                                <div class="input-group-append">
                                    <button data-repeater-delete class="btn btn-danger btn-icon">
                                        <i class="glyphicon glyphicon-minus"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                }
            }
            <div data-repeater-item style="margin-bottom: 15px;">
                <div class="row">
                    <div class="col-md-5">
                        <input type="text" data-name class="form-control" name="Name" placeholder="Name" />
                    </div>
                    <div class="col-md-5">
                        <input type="text" data-value class="form-control" name="Value" placeholder="Value" />
                    </div>
                    <div class="col-md-2">
                        <div class="input-group-append">
                            <button data-repeater-delete class="btn btn-danger btn-icon">
                                <i class="glyphicon glyphicon-minus"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <hr />
        <div class="kt-repeater__add-data">
            <span data-repeater-create class="btn btn-info btn-sm">
                <i class="la la-plus"></i> Add
            </span>
        </div>
    </div>
</div>

